{"ast":null,"code":"import _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _typeof from '@babel/runtime/helpers/esm/typeof';\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\n\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\nfunction addQueryString(url, params) {\n  if (params && _typeof(params) === 'object') {\n    var queryString = '',\n        e = encodeURIComponent; // Must encode data\n\n    for (var paramName in params) {\n      queryString += '&' + e(paramName) + '=' + e(params[paramName]);\n    }\n\n    if (!queryString) {\n      return url;\n    }\n\n    url = url + (url.indexOf('?') !== -1 ? '&' : '?') + queryString.slice(1);\n  }\n\n  return url;\n} // https://gist.github.com/Xeoncross/7663273\n\n\nfunction ajax(url, options, callback, data, cache) {\n  if (data && _typeof(data) === 'object') {\n    if (!cache) {\n      data['_t'] = new Date();\n    } // URL encoded form data must be in querystring format\n\n\n    data = addQueryString('', data).slice(1);\n  }\n\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n\n  try {\n    var x;\n\n    if (XMLHttpRequest) {\n      x = new XMLHttpRequest();\n    } else {\n      x = new ActiveXObject('MSXML2.XMLHTTP.3.0');\n    }\n\n    x.open(data ? 'POST' : 'GET', url, 1);\n\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n\n    x.withCredentials = !!options.withCredentials;\n\n    if (data) {\n      x.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    }\n\n    if (x.overrideMimeType) {\n      x.overrideMimeType(\"application/json\");\n    }\n\n    var h = options.customHeaders;\n    h = typeof h === 'function' ? h() : h;\n\n    if (h) {\n      for (var i in h) {\n        x.setRequestHeader(i, h[i]);\n      }\n    }\n\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback && callback(x.responseText, x);\n    };\n\n    x.send(data);\n  } catch (e) {\n    console && console.log(e);\n  }\n}\n\nfunction getDefaults() {\n  return {\n    loadPath: '/locales/{{lng}}/{{ns}}.json',\n    addPath: '/locales/add/{{lng}}/{{ns}}',\n    allowMultiLoading: false,\n    parse: JSON.parse,\n    parsePayload: function parsePayload(namespace, key, fallbackValue) {\n      return _defineProperty({}, key, fallbackValue || '');\n    },\n    crossDomain: false,\n    ajax: ajax\n  };\n}\n\nvar Backend = /*#__PURE__*/function () {\n  function Backend(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Backend);\n\n    this.init(services, options);\n    this.type = 'backend';\n  }\n\n  _createClass(Backend, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.services = services;\n      this.options = defaults(options, this.options || {}, getDefaults());\n    }\n  }, {\n    key: \"readMulti\",\n    value: function readMulti(languages, namespaces, callback) {\n      var loadPath = this.options.loadPath;\n\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath(languages, namespaces);\n      }\n\n      var url = this.services.interpolator.interpolate(loadPath, {\n        lng: languages.join('+'),\n        ns: namespaces.join('+')\n      });\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: \"read\",\n    value: function read(language, namespace, callback) {\n      var loadPath = this.options.loadPath;\n\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath([language], [namespace]);\n      }\n\n      var url = this.services.interpolator.interpolate(loadPath, {\n        lng: language,\n        ns: namespace\n      });\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: \"loadUrl\",\n    value: function loadUrl(url, callback) {\n      var _this = this;\n\n      this.options.ajax(url, this.options, function (data, xhr) {\n        if (xhr.status >= 500 && xhr.status < 600) return callback('failed loading ' + url, true\n        /* retry */\n        );\n        if (xhr.status >= 400 && xhr.status < 500) return callback('failed loading ' + url, false\n        /* no retry */\n        );\n        var ret, err;\n\n        try {\n          ret = _this.options.parse(data, url);\n        } catch (e) {\n          err = 'failed parsing ' + url + ' to json';\n        }\n\n        if (err) return callback(err, false);\n        callback(null, ret);\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(languages, namespace, key, fallbackValue) {\n      var _this2 = this;\n\n      if (typeof languages === 'string') languages = [languages];\n      var payload = this.options.parsePayload(namespace, key, fallbackValue);\n      languages.forEach(function (lng) {\n        var url = _this2.services.interpolator.interpolate(_this2.options.addPath, {\n          lng: lng,\n          ns: namespace\n        });\n\n        _this2.options.ajax(url, _this2.options, function (data, xhr) {//const statusCode = xhr.status.toString();\n          // TODO: if statusCode === 4xx do log\n        }, payload);\n      });\n    }\n  }]);\n\n  return Backend;\n}();\n\nBackend.type = 'backend';\nexport default Backend;","map":{"version":3,"names":["_classCallCheck","_createClass","_defineProperty","_typeof","arr","each","forEach","slice","defaults","obj","call","arguments","source","prop","undefined","addQueryString","url","params","queryString","e","encodeURIComponent","paramName","indexOf","ajax","options","callback","data","cache","Date","queryStringParams","x","XMLHttpRequest","ActiveXObject","open","crossDomain","setRequestHeader","withCredentials","overrideMimeType","h","customHeaders","i","onreadystatechange","readyState","responseText","send","console","log","getDefaults","loadPath","addPath","allowMultiLoading","parse","JSON","parsePayload","namespace","key","fallbackValue","Backend","services","length","init","type","value","readMulti","languages","namespaces","interpolator","interpolate","lng","join","ns","loadUrl","read","language","_this","xhr","status","ret","err","create","_this2","payload"],"sources":["/Users/Mumford/Documents/my-app/node_modules/i18next-xhr-backend/dist/esm/i18nextXHRBackend.js"],"sourcesContent":["import _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _typeof from '@babel/runtime/helpers/esm/typeof';\n\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\nfunction addQueryString(url, params) {\n  if (params && _typeof(params) === 'object') {\n    var queryString = '',\n        e = encodeURIComponent; // Must encode data\n\n    for (var paramName in params) {\n      queryString += '&' + e(paramName) + '=' + e(params[paramName]);\n    }\n\n    if (!queryString) {\n      return url;\n    }\n\n    url = url + (url.indexOf('?') !== -1 ? '&' : '?') + queryString.slice(1);\n  }\n\n  return url;\n} // https://gist.github.com/Xeoncross/7663273\n\n\nfunction ajax(url, options, callback, data, cache) {\n  if (data && _typeof(data) === 'object') {\n    if (!cache) {\n      data['_t'] = new Date();\n    } // URL encoded form data must be in querystring format\n\n\n    data = addQueryString('', data).slice(1);\n  }\n\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n\n  try {\n    var x;\n\n    if (XMLHttpRequest) {\n      x = new XMLHttpRequest();\n    } else {\n      x = new ActiveXObject('MSXML2.XMLHTTP.3.0');\n    }\n\n    x.open(data ? 'POST' : 'GET', url, 1);\n\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n\n    x.withCredentials = !!options.withCredentials;\n\n    if (data) {\n      x.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    }\n\n    if (x.overrideMimeType) {\n      x.overrideMimeType(\"application/json\");\n    }\n\n    var h = options.customHeaders;\n    h = typeof h === 'function' ? h() : h;\n\n    if (h) {\n      for (var i in h) {\n        x.setRequestHeader(i, h[i]);\n      }\n    }\n\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback && callback(x.responseText, x);\n    };\n\n    x.send(data);\n  } catch (e) {\n    console && console.log(e);\n  }\n}\n\nfunction getDefaults() {\n  return {\n    loadPath: '/locales/{{lng}}/{{ns}}.json',\n    addPath: '/locales/add/{{lng}}/{{ns}}',\n    allowMultiLoading: false,\n    parse: JSON.parse,\n    parsePayload: function parsePayload(namespace, key, fallbackValue) {\n      return _defineProperty({}, key, fallbackValue || '');\n    },\n    crossDomain: false,\n    ajax: ajax\n  };\n}\n\nvar Backend =\n/*#__PURE__*/\nfunction () {\n  function Backend(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Backend);\n\n    this.init(services, options);\n    this.type = 'backend';\n  }\n\n  _createClass(Backend, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.services = services;\n      this.options = defaults(options, this.options || {}, getDefaults());\n    }\n  }, {\n    key: \"readMulti\",\n    value: function readMulti(languages, namespaces, callback) {\n      var loadPath = this.options.loadPath;\n\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath(languages, namespaces);\n      }\n\n      var url = this.services.interpolator.interpolate(loadPath, {\n        lng: languages.join('+'),\n        ns: namespaces.join('+')\n      });\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: \"read\",\n    value: function read(language, namespace, callback) {\n      var loadPath = this.options.loadPath;\n\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath([language], [namespace]);\n      }\n\n      var url = this.services.interpolator.interpolate(loadPath, {\n        lng: language,\n        ns: namespace\n      });\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: \"loadUrl\",\n    value: function loadUrl(url, callback) {\n      var _this = this;\n\n      this.options.ajax(url, this.options, function (data, xhr) {\n        if (xhr.status >= 500 && xhr.status < 600) return callback('failed loading ' + url, true\n        /* retry */\n        );\n        if (xhr.status >= 400 && xhr.status < 500) return callback('failed loading ' + url, false\n        /* no retry */\n        );\n        var ret, err;\n\n        try {\n          ret = _this.options.parse(data, url);\n        } catch (e) {\n          err = 'failed parsing ' + url + ' to json';\n        }\n\n        if (err) return callback(err, false);\n        callback(null, ret);\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(languages, namespace, key, fallbackValue) {\n      var _this2 = this;\n\n      if (typeof languages === 'string') languages = [languages];\n      var payload = this.options.parsePayload(namespace, key, fallbackValue);\n      languages.forEach(function (lng) {\n        var url = _this2.services.interpolator.interpolate(_this2.options.addPath, {\n          lng: lng,\n          ns: namespace\n        });\n\n        _this2.options.ajax(url, _this2.options, function (data, xhr) {//const statusCode = xhr.status.toString();\n          // TODO: if statusCode === 4xx do log\n        }, payload);\n      });\n    }\n  }]);\n\n  return Backend;\n}();\n\nBackend.type = 'backend';\n\nexport default Backend;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}